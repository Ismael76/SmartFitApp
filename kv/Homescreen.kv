#:import utils kivy.utils

<Homescreen>:
    FloatLayout:
        #Icons for 'Menu' & 'Settings'
        AnchorLayout: #For 'settings' & 'menu' icons
            anchor_x: 'center'
            anchor_y: 'top'
            orientation: 'vertical'
            MDToolbar:
                title: 'SmartFit'
                left_action_items: [["menu", lambda x: app.nav_drawer()]]
                elevation: 8

            MDBottomAppBar:
                MDToolbar:
                    left_action_items: [["magnify", lambda x: app.change_screen("food_search_screen")], ["run", lambda x: app.change_screen("log_screen")]]
                    right_action_items: [["account-group", lambda x: app.change_screen("social_screen")], ["account", lambda x: app.change_screen("profile_screen")] ]
                    type: 'bottom'
                    icon: 'plus'
                    on_action_button: app.change_screen("workout_screen")

        #Avatar/User
        BoxLayout: #For 'avatar'
            rows: 1
            pos_hint: {"top": .9, "left": 1}
            size_hint: 1, .2
            Image:
                source: "icons/avatars/002-man.png"
                id: avatar_image
        Label:
            pos_hint: {"top": .7, "left": 1}
            size_hint: 1, .1
            text: "MUHAMMED ALI"
            font_name: "Alphakind"
            id: name_label
            color: 0, 0, 0, 1

        Label:
            pos_hint: {"top": .65, "right": 1}
            size_hint: 1, .1
            text: ""
            font_name: "Alphakind"
            id: level_label
            color: 0, 0, 0, 1

        MDProgressBar:
            value: 5
            pos_hint: {"top": .6, "right": 0.75}
            size_hint: 0.5, .1
            id: progress_bar

        GridLayout:
            canvas:
                Color:
                    rgb: utils.get_color_from_hex("#000000")
                Rectangle:
                    size: self.size
                    pos: self.pos
            pos_hint: {"top": .5, "right": .95}
            size_hint: .9, .03
        Label:
            pos_hint: {"top": .534, "right": .72}
            size_hint: 1, .1
            text: "BMI CALCULATOR"
            font_name: "Alphakind"
        Label:
            pos_hint: {"top": .454, "right": .65}
            size_hint: 1, .1
            text: ""
            id: weight_label
            font_name: "Alphakind"
            font_size: '20dp'
            color: 0, 0, 0, 1
        Label:
            pos_hint: {"top": .454, "right": .8}
            size_hint: 1, .1
            text: "|"
            font_name: "Alphakind"
            font_size: '25dp'
            color: 0, 0, 0, 1
        Label:
            pos_hint: {"top": .454, "right": .97}
            size_hint: 1, .1
            text: ""
            id: height_label
            font_name: "Alphakind"
            font_size: '20dp'
            color: 0, 0, 0, 1

        Label:
            pos_hint: {"top": .454, "right": 1}
            size_hint: .4, .1
            text: ""
            id: bmi_label
            font_name: "Alphakind"
            font_size: '40dp'
            color: 0, 0, 0, 1

        GridLayout:
            canvas:
                Color:
                    rgb: utils.get_color_from_hex("#00FF22")
                Rectangle:
                    size: self.size
                    pos: self.pos
            pos_hint: {"top": .325, "right": 1}
            size_hint: .55, .08

        Label:
            pos_hint: {"top": .34, "right": 1}
            size_hint: .45, .1
            text: "Normal Weight \n       18 - 25"
            font_name: "Alphakind"
            font_size: '17dp'
            color: 0, 0, 0, 1

        GridLayout:
            canvas:
                Color:
                    rgb: utils.get_color_from_hex("#FFF700")
                Rectangle:
                    size: self.size
                    pos: self.pos
            pos_hint: {"top": .325, "right": .5}
            size_hint: .55, .08

        Label:
            pos_hint: {"top": .34, "right": .75}
            size_hint: 1, .1
            text: "Underweight < 18"
            font_name: "Alphakind"
            font_size: '17dp'
            color: 0, 0, 0, 1

        GridLayout:
            canvas:
                Color:
                    rgb: utils.get_color_from_hex("#FF0000")
                Rectangle:
                    size: self.size
                    pos: self.pos
            pos_hint: {"top": .245, "right": 1}
            size_hint: .55, .08

        Label:
            pos_hint: {"top": .26, "right": 1}
            size_hint: .45, .1
            text: "Obese > 30"
            font_name: "Alphakind"
            font_size: '17dp'
            color: 0, 0, 0, 1

        GridLayout:
            canvas:
                Color:
                    rgb: utils.get_color_from_hex("#FF9100")
                Rectangle:
                    size: self.size
                    pos: self.pos
            pos_hint: {"top": .245, "right": .5}
            size_hint: .55, .08

        Label:
            pos_hint: {"top": .25, "right": .75}
            size_hint: 1, .1
            text: "Overweight \n    25 - 30"
            font_name: "Alphakind"
            font_size: '17dp'
            color: 0, 0, 0, 1